import{d as S,u as _,x as T,r as a,c as q,a as E,o as k,i as C,f as o,e as t,j,w as B,p as P,t as M,U as Y,y as A}from"./index-6280b85b.js";import{u as D}from"./useModal-a52d9158.js";import{x as F}from"./request-8476bf71.js";import"./axios-c24e582b.js";const I={class:"flex justify-center mt-4"},Q=S({__name:"Signup",setup(L){const{t:r}=_(),{confirm:N}=D(),{init:h,notify:O,close:$,closeAll:z}=T(),n=a(""),m=a(""),u=a(""),i=a(""),d=a(""),V=a(""),U=a(!1),v=a([]),p=a([]),c=a([]),g=a([]),f=a([]),y=a([]);q(()=>!(v.value.length||f.value.length||g.value.length||p.value.length||c.value.length||y.value.length));async function w(){if(p.value=m.value?[]:["Email is required"],c.value=u.value?[]:["Password is required"],y.value=U.value?[]:["You must agree to the terms of use to continue"],g.value=i.value?[]:["First name is required"],f.value=d.value?[]:["Last name is required"],v.value=n.value?[]:["confirm password is required"],n.value.toString().trim()!==u.value.toString().trim())h({message:"Password did not matched",color:"danger"});else{const b=await F(i.value,V.value,d.value,m.value,u.value);if(b.status==="Success")N("You have successfully registered, please wait for admin approval.").then(async e=>{e&&A.push("/auth/login")});else{let e="";Object.keys(b.errors).forEach(function(s,x){e=b.errors[s],h({message:e.toString().replace('[ "',"").replace('" ]',""),color:"danger"})})}}}return(b,e)=>{const s=E("va-input"),x=E("va-button");return k(),C("form",{onSubmit:e[6]||(e[6]=Y(l=>w(),["prevent"]))},[o(s,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=l=>i.value=l),class:"mb-4",type:"text",label:t(r)("auth.first_name"),error:!!g.value.length,"error-messages":g.value},null,8,["modelValue","label","error","error-messages"]),o(s,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=l=>V.value=l),class:"mb-4",type:"text",label:t(r)("auth.middle_name")},null,8,["modelValue","label"]),o(s,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),class:"mb-4",type:"text",label:t(r)("auth.last_name"),error:!!f.value.length,"error-messages":f.value},null,8,["modelValue","label","error","error-messages"]),o(s,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=l=>m.value=l),class:"mb-4",type:"email",label:t(r)("auth.email"),error:!!p.value.length,"error-messages":p.value},null,8,["modelValue","label","error","error-messages"]),o(s,{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=l=>u.value=l),class:"mb-4",type:"password",label:t(r)("auth.password"),error:!!c.value.length,"error-messages":c.value},null,8,["modelValue","label","error","error-messages"]),o(s,{modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),class:"mb-4",type:"password",label:t(r)("auth.confirm"),error:!!v.value.length,"error-messages":v.value},null,8,["modelValue","label","error","error-messages"]),j("div",I,[o(x,{class:"my-0",onClick:w},{default:B(()=>[P(M(t(r)("auth.sign_up")),1)]),_:1})])],32)}}});export{Q as default};
