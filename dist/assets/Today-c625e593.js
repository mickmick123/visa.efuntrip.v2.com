import{d as h,r as l,u as $,s as A,c as q,m as b,a as n,o as D,i as T,j as S,f as o,w as c,e as _,b as z,p as E,t as L,g as O,F as R,q as G,v as H,_ as J}from"./index-6280b85b.js";import{u as K}from"./contentStore-c18c2769.js";import{h as u}from"./moment-a9aaa855.js";import{d as Q}from"./debounce-c433b07a.js";import"./_commonjsHelpers-de833af9.js";const W=i=>(G("data-v-918c10f4"),i=i(),H(),i),X={class:"flex flex-row justify-between"},Z=W(()=>S("div",{class:"mb-5"},null,-1)),ee=h({__name:"PageDataTableTodayServices",setup(i){const V=l([{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"}]),m=l("today");$();const v=l(10),f=l(1),s=l(""),d=K(),C=u(new Date).format("YYYY-MM-DD");d.getTodayServices(1e6,f.value,C,s.value);const{todayServices:r}=A(d),g=l(1);var w=l(s);const x=q(()=>v.value&&v.value!==0?Math.ceil(r.value.length/v.value):r.value.length),M=l(r.value.length),Y=a=>{w=a};Q(function(a){Y(a)},600);const I=a=>{console.log(r.value[a])},y=l(u(new Date).format("YYYY-MM-DD"));b(m,async a=>{if(a==="today"){const e=u(new Date).format("YYYY-MM-DD");d.getTodayServices(1e6,f.value,e,s.value)}else{const e=u(new Date).subtract(1,"d").format("YYYY-MM-DD");d.getTodayServices(1e6,f.value,e,s.value)}}),b(y,async a=>{const e=u(a).format("YYYY-MM-DD");d.getTodayServices(1e6,f.value,e,s.value)}),b(s,async a=>{Y(a)});const k=l([{key:"created_at",label:"Date"},{key:"id",label:"ID"},{key:"full_name",label:"Client"},{key:"tracking",label:"Package"},{key:"detail",label:"Details"},{key:"cost",label:"Cost"},{key:"charge",label:"Charge"},{key:"actions",label:"Actions",tdClass:"items-center-c",thClass:"items-center-c"}]);return(a,e)=>{const P=n("VaInput"),p=n("va-card"),B=n("va-date-input"),j=n("va-button-toggle"),F=n("VaButton"),N=n("VaDataTable"),U=n("VaPagination");return D(),T(R,null,[S("div",X,[o(p,{title:"filter",class:"bg-white p-5 w-[40%]"},{default:c(()=>[o(P,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),"inner-label":"",placeholder:"Filter...",class:"w-full"},null,8,["modelValue"])]),_:1}),o(p,{title:"filter",class:"flex justify-center bg-white p-5 w-[25%]"},{default:c(()=>[o(B,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=t=>y.value=t),"inner-label":"",label:"Search date"},null,8,["modelValue"])]),_:1}),o(p,{title:"filter",class:"flex justify-center bg-white p-5 w-[25%]"},{default:c(()=>[o(j,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),class:"col-span-12 lg:col-span-6 flex justify-center items-center",preset:"outline",options:V.value,"border-color":"primary",color:"primary"},null,8,["modelValue","options"])]),_:1})]),Z,o(p,{title:"On Process Services",class:"mb-8"},{default:c(()=>[_(r).constructor===Array?(D(),z(N,{key:0,"sticky-header":"",class:"va-table--striped custom-table",fields:k.value,items:_(r),columns:k.value,"per-page":v.value,"current-page":g.value,filter:_(w),onFiltered:e[3]||(e[3]=t=>M.value=t.items.length)},{"cell(created_at)":c(({value:t})=>[E(L(_(u)(t).format("L")),1)]),"cell(actions)":c(({rowIndex:t})=>[o(F,{size:"large",preset:"plain",icon:"output",onClick:le=>I(t)},null,8,["onClick"])]),_:1},8,["fields","items","columns","per-page","current-page","filter"])):O("",!0),o(p,{title:"filter",class:"bg-white p-5 w-[100%]"},{default:c(()=>[o(U,{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=t=>g.value=t),"visible-pages":"10",pages:_(x)},null,8,["modelValue","pages"])]),_:1})]),_:1})],64)}}});const te=J(ee,[["__scopeId","data-v-918c10f4"]]),ae={class:"dashboard"},ue=h({__name:"Today",setup(i){return l(),(V,m)=>(D(),T("div",ae,[o(te)]))}});export{ue as default};
